import { AppContext } from '@/contexts/AppContext';
import { useContext } from 'react';
import { useTranslation } from 'react-i18next';

export const Spinner = () => (
    <div className='flex min-h-screen flex-col items-center justify-center bg-background-100 dark:bg-dark-background-100'>
        <svg
            className='animate-pulse'
            version='1.1'
            id='Layer_1'
            xmlns='http://www.w3.org/2000/svg'
            x='0px'
            y='0px'
            viewBox='0 0 1920 1080'
            width='30rem'
            height='20rem'
        >
            <g>
                <g>
                    <g>
                        <path
                            fill='#868686'
                            className='st0'
                            d='M413.46,47.63h-11.2v133.34h22.36V70.29c111.04,5.84,199.54,97.99,199.54,210.43
				c0,112.47-88.5,204.62-199.54,210.46v-66.47c-3.71,0.27-7.39,0.43-11.16,0.43s-7.48-0.15-11.2-0.43v89.14h11.2
				c128.53,0,233.1-104.59,233.1-233.13C646.56,152.22,541.99,47.63,413.46,47.63z'
                        />
                    </g>

                    <ellipse
                        fillRule='evenodd'
                        clipRule='evenodd'
                        fill='#CDAC65'
                        transform='matrix(0.7071 -0.7071 0.7071 0.7071 -77.427 374.5815)'
                        className='st1'
                        cx='413.45'
                        cy='280.75'
                        rx='99.77'
                        ry='99.77'
                    />
                    <path
                        fill='#868686'
                        className='st0'
                        d='M424.62,159.13c-3.68-0.33-7.39-0.52-11.16-0.52s-7.51,0.18-11.2,0.52
			c-62.12,5.66-110.98,58.05-110.98,121.63c0,67.36,54.82,122.15,122.18,122.15c67.35,0,122.15-54.79,122.15-122.15
			C535.61,217.17,486.78,164.78,424.62,159.13z M508.71,310.36c-0.24,0.79-0.49,1.58-0.76,2.34c-0.79,2.31-1.64,4.59-2.59,6.81
			c-0.64,1.49-1.31,2.95-2.01,4.41c0,0.03,0,0.03,0,0.03c-0.58,1.16-1.16,2.31-1.76,3.44c-0.33,0.7-0.7,1.37-1.1,2.04
			c-0.33,0.64-0.7,1.25-1.06,1.83c-0.21,0.4-0.46,0.79-0.7,1.16c-0.4,0.7-0.82,1.37-1.28,2.04c-0.73,1.19-1.49,2.34-2.31,3.47
			c-0.24,0.37-0.49,0.7-0.73,1.03c-0.61,0.85-1.22,1.67-1.89,2.49c-0.7,0.91-1.4,1.82-2.13,2.71c-1,1.25-2.07,2.43-3.13,3.62
			c-1.07,1.19-2.19,2.34-3.32,3.47c-1.13,1.13-2.28,2.25-3.47,3.32c-0.61,0.55-1.19,1.1-1.8,1.58c-0.61,0.55-1.22,1.07-1.83,1.55
			c-0.61,0.52-1.22,1.03-1.86,1.52c-1,0.79-2.01,1.55-3.04,2.25c-3.07,2.28-6.3,4.35-9.64,6.24c-1.16,0.64-2.31,1.28-3.5,1.89
			c-1.43,0.73-2.86,1.43-4.35,2.1l-0.03,0.03c-1.46,0.64-2.95,1.28-4.44,1.86l-0.03,0.03c-1.49,0.58-3.01,1.13-4.53,1.64
			c-1.07,0.37-2.13,0.7-3.19,1.03c-1.07,0.3-2.16,0.61-3.22,0.91c-0.43,0.12-0.85,0.21-1.25,0.33c-0.12,0.03-0.24,0.06-0.37,0.09
			c-0.79,0.18-1.58,0.36-2.4,0.58c-0.49,0.09-0.97,0.18-1.49,0.3c-1.61,0.33-3.25,0.64-4.9,0.88c-0.12,0-0.27,0.03-0.43,0.06
			c-1.79,0.24-3.59,0.49-5.41,0.64c-1,0.09-2.04,0.18-3.07,0.24c-1.03,0.06-2.07,0.09-3.1,0.15c-1.03,0-2.07,0.03-3.13,0.03h-1.28
			c-1.5-0.01-2.99-0.1-4.47-0.19c-0.14-0.01-0.29-0.02-0.43-0.02c-0.49-0.03-1-0.06-1.49-0.09c-0.21-0.03-0.46-0.03-0.67-0.06
			c-1.55-0.15-3.1-0.3-4.62-0.49c-0.03,0-0.05,0-0.08-0.01c-0.11-0.01-0.22-0.02-0.33-0.04c-0.03-0.01-0.07-0.02-0.1-0.02
			c-0.09,0-0.21-0.03-0.33-0.03c-0.03-0.03-0.09-0.03-0.12-0.03c-0.06,0-0.15-0.03-0.21-0.03c-0.24-0.03-0.49-0.09-0.73-0.12
			c-1.46-0.21-2.92-0.43-4.35-0.73c-2.01-0.4-3.99-0.88-5.96-1.4c-0.33-0.09-0.7-0.18-1.03-0.27c-0.55-0.12-1.09-0.3-1.61-0.46
			c-1.98-0.58-3.96-1.19-5.87-1.89c-0.79-0.3-1.58-0.58-2.37-0.88c-2.13-0.82-4.26-1.73-6.33-2.71c-0.76-0.37-1.49-0.73-2.25-1.1
			c-0.24-0.12-0.49-0.24-0.73-0.36c-0.52-0.27-1.07-0.55-1.58-0.85c-0.15-0.09-0.33-0.18-0.52-0.3c-0.3-0.15-0.58-0.3-0.85-0.46
			c-0.3-0.15-0.58-0.3-0.85-0.49c-0.03,0-0.03-0.03-0.06-0.03c-0.12-0.06-0.21-0.12-0.33-0.18c-1.16-0.64-2.31-1.34-3.44-2.07
			c-0.46-0.3-0.91-0.58-1.34-0.88c-0.4-0.24-0.79-0.52-1.19-0.76c-0.4-0.27-0.79-0.55-1.19-0.82c-0.82-0.58-1.64-1.13-2.43-1.73
			c-1.61-1.19-3.16-2.4-4.72-3.71c-1.1-0.91-2.13-1.83-3.16-2.74l-0.21-0.21c-1.09-1-2.19-2.04-3.26-3.1
			c-0.58-0.55-1.13-1.13-1.67-1.7c-0.58-0.58-1.13-1.19-1.64-1.76c-1.1-1.19-2.13-2.37-3.13-3.62c-0.52-0.61-1.03-1.22-1.49-1.86
			c-1-1.25-1.98-2.55-2.89-3.86c-0.49-0.67-0.94-1.31-1.37-1.98c-0.46-0.67-0.91-1.34-1.31-2.01c-0.46-0.67-0.88-1.34-1.28-2.04
			c-0.43-0.67-0.85-1.34-1.25-2.04v-0.03c-0.43-0.67-0.82-1.4-1.16-2.1c-0.21-0.33-0.36-0.67-0.55-1c-0.03-0.03-0.03-0.09-0.06-0.12
			c-0.55-1.03-1.1-2.1-1.61-3.16c-0.03-0.06-0.06-0.12-0.09-0.18c-0.33-0.67-0.64-1.34-0.94-2.04c-0.33-0.73-0.67-1.46-0.97-2.22
			c-0.3-0.73-0.61-1.49-0.91-2.25c-0.18-0.4-0.33-0.82-0.49-1.25c-0.27-0.67-0.52-1.34-0.76-2.04v-0.03
			c-0.03-0.12-0.09-0.21-0.12-0.33c-0.12-0.3-0.21-0.61-0.3-0.91c-0.55-1.55-1.03-3.1-1.46-4.69c-0.15-0.49-0.3-0.97-0.4-1.46
			c-0.27-0.94-0.52-1.89-0.73-2.83c-0.3-1.25-0.58-2.49-0.79-3.74c-0.18-0.73-0.3-1.49-0.43-2.25c-0.4-2.25-0.7-4.53-0.94-6.81
			c-0.09-0.85-0.15-1.67-0.21-2.49c-0.06-0.64-0.09-1.25-0.12-1.86c-0.06-0.82-0.09-1.61-0.12-2.43c-0.03-1.13-0.06-2.25-0.06-3.38
			c0-1.03,0.03-2.04,0.06-3.04c0-0.94,0.06-1.86,0.12-2.77c0-0.21,0.03-0.43,0.03-0.64c0.03-0.4,0.06-0.79,0.09-1.22
			c0.03-0.49,0.06-0.97,0.12-1.46c0.09-0.97,0.18-1.95,0.3-2.95c0.06-0.46,0.12-0.91,0.18-1.4c0-0.09,0.03-0.21,0.03-0.33
			c0.03-0.03,0.03-0.09,0.03-0.12c0-0.06,0.03-0.15,0.03-0.21c0.06-0.52,0.15-1.03,0.24-1.55c0.12-0.73,0.24-1.46,0.37-2.16
			c0.12-0.73,0.27-1.46,0.43-2.19c0.09-0.52,0.21-1.03,0.33-1.52c0.15-0.7,0.3-1.43,0.49-2.13c0.21-0.85,0.43-1.7,0.67-2.52
			c0.24-0.91,0.49-1.83,0.76-2.71c0.33-1.06,0.67-2.13,1.03-3.16c0.15-0.49,0.33-0.97,0.49-1.46c0-0.03,0.03-0.06,0.03-0.09
			c0.15-0.4,0.27-0.79,0.46-1.19c0.43-1.13,0.85-2.25,1.31-3.35c0.46-1.1,0.91-2.16,1.4-3.22c0.27-0.61,0.55-1.22,0.85-1.8
			c0.33-0.73,0.7-1.46,1.07-2.19c0.36-0.7,0.73-1.4,1.16-2.1c0.3-0.58,0.58-1.16,0.94-1.7c0-0.03,0.03-0.03,0.03-0.06
			c0.46-0.82,0.94-1.64,1.43-2.43c0.4-0.7,0.82-1.34,1.28-2.01c0.12-0.21,0.27-0.46,0.43-0.67c0.49-0.79,1.03-1.58,1.58-2.37
			c0.64-0.91,1.31-1.86,1.98-2.74c0.18-0.24,0.33-0.46,0.52-0.7c0.82-1.1,1.67-2.19,2.56-3.26c1-1.22,2.04-2.4,3.13-3.59
			c0.06-0.09,0.15-0.18,0.24-0.27c0.46-0.52,0.91-1,1.4-1.52c0.55-0.58,1.09-1.13,1.67-1.67c0.55-0.58,1.13-1.13,1.7-1.67v-0.03
			c0.52-0.49,1-0.94,1.52-1.4c0.09-0.06,0.15-0.15,0.24-0.21c1.19-1.13,2.4-2.16,3.62-3.16c0.46-0.4,0.94-0.76,1.43-1.13
			c0.61-0.49,1.22-0.97,1.83-1.43c0.24-0.18,0.46-0.33,0.7-0.52c0.58-0.43,1.16-0.85,1.76-1.28c0.33-0.24,0.64-0.49,0.97-0.7
			c0.33-0.24,0.67-0.46,1-0.67c0.46-0.33,0.91-0.64,1.37-0.91c0.88-0.61,1.76-1.16,2.68-1.7c0.67-0.43,1.4-0.85,2.1-1.22
			c0.12-0.09,0.21-0.15,0.33-0.21c0.03,0,0.03-0.03,0.06-0.03c0.55-0.36,1.13-0.64,1.7-0.94c0.7-0.43,1.4-0.79,2.1-1.16
			c0.73-0.37,1.46-0.73,2.19-1.07c0.58-0.3,1.19-0.58,1.79-0.85c1.07-0.49,2.13-0.94,3.22-1.4c1.03-0.43,2.13-0.85,3.19-1.25
			c0.06-0.03,0.09-0.03,0.15-0.06c0.91-0.33,1.79-0.67,2.74-0.97c1.03-0.37,2.1-0.7,3.16-1.03c0.88-0.27,1.8-0.52,2.71-0.76
			c0.82-0.24,1.67-0.46,2.53-0.67c0.06,0,0.09-0.03,0.15-0.03c0.64-0.18,1.34-0.3,1.98-0.46c0.49-0.12,1-0.24,1.52-0.33
			c1.43-0.3,2.89-0.58,4.35-0.79c0.52-0.09,1.03-0.18,1.55-0.24c0.06,0,0.15-0.03,0.21-0.03c0.03,0,0.09,0,0.12-0.03
			c0.12,0,0.24-0.03,0.33-0.03c0.46-0.06,0.94-0.12,1.4-0.18c1-0.12,1.98-0.21,2.95-0.3c1.09-0.12,2.22-0.18,3.32-0.24
			c0.91-0.06,1.83-0.12,2.77-0.12c1-0.03,2.01-0.06,3.04-0.06c1.13,0,2.25,0.03,3.38,0.06c0.82,0.03,1.61,0.06,2.43,0.12
			c0.61,0.03,1.22,0.06,1.86,0.12c0.82,0.06,1.64,0.12,2.49,0.21c2.28,0.24,4.56,0.55,6.82,0.94c0.76,0.12,1.52,0.24,2.25,0.43
			c1.25,0.21,2.49,0.49,3.74,0.79c0.94,0.21,1.89,0.46,2.83,0.73c0.49,0.09,0.97,0.24,1.46,0.4c1.58,0.43,3.13,0.91,4.69,1.46
			c0.3,0.09,0.61,0.18,0.91,0.3c0.12,0.03,0.21,0.09,0.33,0.12h0.03c0.12,0.03,0.24,0.09,0.37,0.12c0.24,0.09,0.46,0.18,0.67,0.27
			c0.33,0.12,0.67,0.24,1,0.36c0.43,0.15,0.85,0.3,1.25,0.49c0.76,0.3,1.52,0.61,2.25,0.91c0.76,0.3,1.49,0.64,2.22,0.97
			c0.7,0.3,1.37,0.61,2.04,0.94c0.06,0.03,0.12,0.06,0.18,0.09c1.07,0.52,2.13,1.07,3.16,1.61c0.03,0.03,0.09,0.03,0.12,0.06
			c0.33,0.18,0.67,0.33,1,0.55c0.7,0.33,1.43,0.73,2.1,1.16h0.03c0.7,0.4,1.37,0.82,2.04,1.25c0.7,0.4,1.37,0.82,2.04,1.28
			c0.67,0.4,1.34,0.85,2.01,1.31c0.67,0.43,1.31,0.88,1.98,1.37c1.31,0.91,2.62,1.89,3.86,2.89c0.64,0.46,1.25,0.97,1.86,1.49
			c1.25,1,2.43,2.04,3.62,3.13c0.58,0.52,1.19,1.07,1.76,1.64c0.58,0.55,1.16,1.1,1.7,1.67v0.03c1.1,1.07,2.1,2.13,3.1,3.22
			l0.21,0.21c0.91,1.03,1.82,2.07,2.74,3.16c0.64,0.76,1.28,1.55,1.89,2.34c0.52,0.64,1,1.28,1.46,1.92
			c0.46,0.55,0.88,1.19,1.31,1.76c0,0.03,0.03,0.03,0.03,0.06c0.27,0.33,0.52,0.7,0.76,1.07c0.55,0.79,1.1,1.58,1.58,2.37
			c0.15,0.21,0.3,0.46,0.43,0.67c0.46,0.67,0.85,1.31,1.28,2.01c0.49,0.79,0.97,1.61,1.43,2.43c0,0.03,0.03,0.03,0.03,0.06
			c0.36,0.55,0.64,1.13,0.94,1.7c0.43,0.7,0.79,1.4,1.16,2.1c0.36,0.73,0.73,1.46,1.07,2.19c0.3,0.58,0.58,1.19,0.85,1.8
			c0.06,0.12,0.12,0.27,0.18,0.4v0.03c0.37,0.73,0.7,1.46,0.97,2.22c0.15,0.3,0.27,0.61,0.4,0.91v0.03
			c0.18,0.43,0.37,0.85,0.52,1.28c0.09,0.24,0.18,0.52,0.27,0.76c0.27,0.7,0.55,1.37,0.79,2.07c0.21,0.58,0.43,1.16,0.61,1.76
			c0.27,0.76,0.52,1.52,0.76,2.31c0.09,0.33,0.18,0.64,0.27,0.97c0.27,0.79,0.49,1.61,0.7,2.43c0.24,0.82,0.46,1.67,0.67,2.52
			c0.18,0.7,0.33,1.43,0.49,2.13c0.06,0.18,0.09,0.36,0.12,0.55c0.03,0.09,0.03,0.15,0.06,0.24c0.06,0.24,0.12,0.49,0.15,0.73
			c0.15,0.55,0.24,1.09,0.33,1.64c0,0.06,0.03,0.15,0.03,0.21c0.03,0.09,0.03,0.21,0.06,0.3c0.21,1.25,0.43,2.49,0.61,3.74
			c0,0.06,0.03,0.15,0.03,0.21c0,0.03,0,0.09,0.03,0.12c0,0.12,0.03,0.24,0.03,0.33c0.06,0.46,0.12,0.94,0.18,1.4
			c0.09,0.64,0.15,1.28,0.21,1.92c0.09,0.82,0.15,1.67,0.21,2.49c0.09,1.13,0.15,2.25,0.21,3.41c0.03,0.55,0.03,1.13,0.06,1.7
			c0.03,0.85,0.03,1.7,0.03,2.56c0,8.58-1.1,16.91-3.13,24.89C509.65,307.22,509.2,308.8,508.71,310.36z'
                    />
                </g>
                <g>
                    <g>
                        <g>
                            <path
                                fill='#868686'
                                className='st0'
                                d='M1243.71,449.73c-7.11,0-12.89-5.79-12.89-12.9c0-3.4,1.34-6.64,3.77-9.11c2.41-2.41,5.73-3.79,9.12-3.79
					c3.44,0,6.68,1.34,9.12,3.78c2.44,2.48,3.78,5.71,3.78,9.12c0,3.44-1.34,6.68-3.78,9.11
					C1250.43,448.39,1247.19,449.73,1243.71,449.73z'
                            />
                        </g>
                        <g>
                            <path
                                fill='#868686'
                                className='st0'
                                d='M1207.69,449.73c-7.11,0-12.89-5.79-12.89-12.9c0-3.4,1.34-6.64,3.77-9.11c2.41-2.41,5.73-3.79,9.12-3.79
					c3.44,0,6.68,1.34,9.12,3.78c2.44,2.48,3.78,5.71,3.78,9.11c0,3.44-1.34,6.68-3.78,9.12
					C1214.41,448.39,1211.17,449.73,1207.69,449.73z'
                            />
                        </g>
                    </g>
                    <g>
                        <g>
                            <rect fill='#868686' x='1454.24' y='159.54' className='st0' width='21.92' height='241.7' />
                        </g>
                        <g>
                            <path
                                fill='#868686'
                                className='st0'
                                d='M1319.78,401.93v-21.92h27.27c24.27,0,44.02-19.74,44.02-44.01V226h21.92v110
					c0,36.36-29.58,65.93-65.94,65.93H1319.78z'
                            />
                        </g>
                        <g>
                            <g>
                                <path
                                    fill='#868686'
                                    className='st0'
                                    d='M1168.61,160.01v21.95H803.59c-20.13,0-37.7,13.58-42.65,33.09h-22.4l0.12-0.66
						c5.58-31.49,32.9-54.37,64.93-54.37H1168.61z'
                                />
                            </g>
                            <g>
                                <path
                                    fill='#868686'
                                    className='st0'
                                    d='M1168.61,335.98c0,1.27-0.03,2.57-0.12,3.8c-0.03,0.88-0.09,1.72-0.18,2.57
						c-0.03,0.21-0.03,0.42-0.06,0.63c-0.12,1.03-0.24,2.02-0.39,3.02c-0.18,1.3-0.42,2.6-0.73,3.89c-0.18,0.85-0.39,1.69-0.6,2.54
						c-0.27,1.06-0.57,2.08-0.88,3.14v0.03c-1.96,6.16-4.77,11.95-8.3,17.21c-0.57,0.88-1.21,1.75-1.84,2.6v0.03
						c-12.07,16.03-31.24,26.44-52.8,26.44c0,0-0.18,0-0.39,0.03c-0.12,0.03-0.21,0-0.33,0c-0.27,0.03-0.51,0.03-0.51,0.03H737.6
						v-21.92h365.21c23.21,0,42.54-18.14,43.95-41.33c0.06-0.88,0.09-1.81,0.09-2.72c0-1.18-0.06-2.35-0.15-3.56
						c-1.81-22.67-21.1-40.45-43.89-40.45H803.59c-32.03,0-59.32-22.85-64.93-54.34l-0.12-0.66h22.4
						c4.98,19.47,22.55,33.09,42.65,33.09h299.21c1.09,0,2.17,0.03,3.26,0.09c1,0.03,1.96,0.12,2.93,0.21
						c0.3,0.03,0.6,0.06,0.88,0.09c0.78,0.09,1.54,0.18,2.29,0.3c0.09,0,0.21,0.03,0.3,0.03c0.33,0.06,0.66,0.09,1,0.15
						c0.09,0.03,0.15,0.03,0.24,0.06c0.03-0.03,0.03,0,0.06,0l0.51,0.06h0.3l0.09,0.09l0.45,0.09c0.51,0.09,1,0.18,1.48,0.3
						c0.88,0.18,1.72,0.36,2.57,0.6c0.57,0.15,1.18,0.3,1.78,0.48c0.18,0.03,0.33,0.09,0.51,0.15c2.05,0.6,4.04,1.33,6.01,2.11
						c0.72,0.3,1.45,0.6,2.17,0.94c0.57,0.24,1.12,0.51,1.69,0.78c0.63,0.3,1.27,0.6,1.87,0.94c0.63,0.33,1.24,0.66,1.84,1
						c0.6,0.33,1.21,0.69,1.81,1.06c18.08,10.84,29.89,29.52,31.64,50.78l0.06,2.84L1168.61,335.98z'
                                />
                            </g>
                        </g>
                        <g>
                            <path
                                fill='#868686'
                                className='st0'
                                d='M1278.52,226v109.97c0,36.38-29.55,65.96-65.93,65.96c-14.31,0-28.17-4.65-39.55-13.22
					c4.41-5.92,8.12-12.38,10.96-19.29c7.91,6.79,18.11,10.6,28.59,10.6c24.27,0,44.01-19.74,44.01-44.04V226H1278.52z'
                            />
                        </g>
                        <g>
                            <path
                                fill='#868686'
                                className='st0'
                                d='M1517.42,401.93v-21.71h23.76c36.53,0,66.26-29.72,66.26-66.25c0-36.53-29.72-66.25-66.26-66.25h-23.76V226
					h23.76c48.5,0,87.96,39.46,87.96,87.96c0,48.5-39.46,87.97-87.96,87.97H1517.42z'
                            />
                        </g>
                    </g>
                </g>
            </g>
        </svg>
    </div>
);

type SplashscreenProps = {
    children?: React.ReactNode;
};

const Splashscreen = ({ children }: SplashscreenProps) => {
    const {
        ready,
        i18n: { resolvedLanguage },
    } = useTranslation();

    const { appLoading } = useContext(AppContext);

    const languageIsReady = ready && resolvedLanguage === 'fa';

    return (
        <>
            {(!languageIsReady || appLoading) && <Spinner />}
            {languageIsReady && children}
        </>
    );
};

export default Splashscreen;
